import pyecharts.options as opts
from pyecharts.charts import Pie



x_data = ["Nissin", "Paldo", "Maruchan", "Nongshim", "Others"]
y_data = [387, 86, 72, 103, 1548]

(
    Pie(init_opts=opts.InitOpts(width="1600px", height="1000px"))
    .add(
        series_name="访问来源",
        data_pair=[list(z) for z in zip(x_data, y_data)],
        radius=["50%", "70%"],
        label_opts=opts.LabelOpts(is_show=False, position="center"),
    )
    .set_global_opts(legend_opts=opts.LegendOpts(pos_left="legft", orient="vertical"))
    .set_series_opts(
        tooltip_opts=opts.TooltipOpts(
            trigger="item", formatter="{a} <br/>{b}: {c} ({d}%)"
        ),
        # label_opts=opts.LabelOpts(formatter="{b}: {c}")
    )
    .render("doughnut_chart.html")
)
